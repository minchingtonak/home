(this.webpackJsonphome=this.webpackJsonphome||[]).push([[0],{61:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var a,r,c=n(0),o=n.n(c),i=n(14),s=n.n(i),l=n(4),u=n(2),d=n(35),f=n(39),h=n(33),g=n.n(h),p=n(22),j=n.n(p),b=n(25),v=n(3);function x(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t.apply(void 0,n.concat(a))}}function m(t){return/^https?:\/\//.test(t)?t:"//".concat(t)}var O=window.localStorage;function k(t,e){var n=Object(c.useState)((function(){var n=O.getItem(t);return null!==n?JSON.parse(n):e})),a=Object(l.a)(n,2),r=a[0],o=a[1];return Object(c.useEffect)((function(){O.setItem(t,JSON.stringify(r))}),[r,t]),[r,o]}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,e=j.a.parse(t),n=Object.keys(e).find((function(t){return t.startsWith("?")}));if(n){var a=e[n];delete e[n],e[n.slice(1)]=a}return e}function y(t,e){var n=Object(c.useState)(function(t){return w()[t]}(t)||e),a=Object(l.a)(n,2),r=a[0],o=a[1];return[r,Object(c.useCallback)((function(e){o(e),function(t,e){var n=w();t in n&&!e?delete n[t]:n[t]=e;var a=window.location.protocol+"//"+window.location.host+window.location.pathname+"".concat(Object.keys(n).length?"?":"").concat(j.a.stringify(n));window.history.pushState({path:a},"",a)}(t,e)}),[t])]}var T,E,S,C=v.a.i.attrs((function(t){return{className:t.checked?"fas fa-check-square":"fas fa-square"}}))(a||(a=Object(u.a)(["\n  margin: 12px 10px 0px 15px;\n\n  transform: scale(1.35);\n\n  color: var(--frg-l);\n\n  &:hover {\n    color: var(--frg-ll);\n  }\n"]))),I=v.a.i.attrs({className:"far fa-trash-alt fa-lg"})(r||(r=Object(u.a)(["\n  padding: 13px 10px;\n\n  color: var(--frg-l);\n\n  &:hover {\n    color: var(--frg-ll);\n  }\n"]))),D=Object(b.a)((function(t){return{loggedIn:!1,setLoggedIn:function(e){return t({loggedIn:e})}}})),A=Object(b.a)((function(t){return{addTask:function(){},setAddTask:function(e){return t({addTask:e})}}})),L=n(1),M=v.a.div(T||(T=Object(u.a)(["\n  vertical-align: top;\n\n  display: inline-block;\n\n  overflow: hidden;\n\n  box-sizing: border-box;\n  margin: 2px;\n  height: var(--section-height);\n  width: var(--section-width);\n\n  background-color: var(--hdr);\n\n  text-align: left;\n  color: var(--htx);\n\n  &:before {\n    content: '';\n    margin-left: 5px;\n  }\n"]))),N=v.a.div(E||(E=Object(u.a)(["\n  padding: 10px 15px 15px 10px;\n\n  height: 100%;\n\n  background-color: var(--frg);\n"])));function U(t){var e=t.title,n=t.children;return n.length?Object(L.jsxs)(M,{id:e,children:[e,Object(L.jsx)(N,{children:n})]}):Object(L.jsx)(L.Fragment,{})}var $=v.a.a(S||(S=Object(u.a)(["\n  margin-bottom: var(--link-margin);\n  padding-left: 5px;\n\n  display: block;\n\n  color: var(--txt);\n  text-decoration: none;\n\n  &:hover,\n  &.selected {\n    background-color: rgba(255, 255, 255, 0.05);\n\n    color: var(--hgl);\n  }\n"])));function F(t){var e=t.query,n=t.setAction,a=k("sites",null),r=Object(l.a)(a,2),o=r[0],i=r[1],s=Object(c.useState)([]),u=Object(l.a)(s,2),d=u[0],h=u[1],p=Object(c.useState)(null),j=Object(l.a)(p,2),b=j[0],v=j[1],x=Object(c.useState)(0),O=Object(l.a)(x,2),w=O[0],y=O[1];Object(c.useEffect)((function(){fetch("https://gist.githubusercontent.com/minchingtonak/b60356be980dc4f430fe73b523d1fafb/raw").then((function(t){return t.json()})).then((function(t){return i(t)})).catch((function(t){return console.error(t)}))}),[i]),Object(c.useEffect)((function(){null!==o&&document.documentElement.style.setProperty("--max-links","".concat(Math.max.apply(Math,Object(f.a)(Object.keys(o).map((function(t){return Object.keys(o[t]).length}))))))}),[o]);var T=Object(c.useCallback)((function(t){if(null!==o){var a=[],r=0,c=!1;Object.keys(o).forEach((function(i,s){var l=o[i],u=Object.keys(l).filter((function(t){return t.toLowerCase().includes(e)}));u.length&&(c=!0,a.push(Object(L.jsx)(U,{title:i,children:u.map((function(e,a){var c=r++===t;return c&&n(l[e]),Object(L.jsx)($,{href:m(l[e]),className:c?"selected":"",children:e},a)}))},s)))})),y(r),h(a),v(t),c&&e.length||n(null)}}),[e,o,n]);return Object(c.useEffect)((function(){g()(e)||/^(https?)?:\/\/localhost:\d{1,5}([^\d].*)?$/g.test(e)?n(e):null===e.match(/^lh\d{3,5}$/)&&null===e.match(/^localhost:\d{3,5}$/)?T(e.length?0:null):n("http://localhost:".concat(e.match(/\d{3,5}/)[0]))}),[e,n,T]),Object(c.useEffect)((function(){function t(t){var e=b;"ArrowUp"===t.key||"ArrowLeft"===t.key?null!==b&&b>0&&(e=b-1):"ArrowDown"!==t.key&&"ArrowRight"!==t.key||null!==b&&b<w&&(e=b+1),e!==b&&T(e)}return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[b,w,T]),Object(L.jsx)("div",{id:"links",children:d})}var P,z,W=n(34),R=n.n(W),K=n(6),q=["https://www.googleapis.com/discovery/v1/apis/tasks/v1/rest"],J="https://www.googleapis.com/auth/tasks",B=!1;function H(){var t=D(),e=t.loggedIn,n=t.setLoggedIn,a=Object(c.useState)(!1),r=Object(l.a)(a,2),o=r[0],i=r[1],s=k("offlineaccess",!1),u=Object(l.a)(s,2),d=u[0],f=u[1];Object(c.useEffect)((function(){e||K.a.load("client:auth2",(function(){var t;t=function(t){n(t),setTimeout((function(){t&&!d&&K.a.auth2.getAuthInstance().currentUser.get().grantOfflineAccess({scope:J,prompt:"consent"}).then((function(t){t.code,f(!0)}))}),5e3)},B||(B=!0,K.a.client.init({apiKey:"AIzaSyBZJJOMt3MkTKNiTgX8lRAkRx8Nd0A8lTc",clientId:"529992368744-omh87l4imgosp83f9l67toav9rgl2bru.apps.googleusercontent.com",discoveryDocs:q,scope:J}).then((function(){K.a.auth2.getAuthInstance().isSignedIn.listen(t),t(K.a.auth2.getAuthInstance().isSignedIn.get())})).catch((function(t){console.error("Auth init error: ",t)}))),i(!0)}))}),[e,n,d,f]);var h=o?K.a.auth2.getAuthInstance():{signIn:function(){},signOut:function(){}};return{loggedIn:e,setLoggedIn:n,logIn:h.signIn,logOut:h.signOut,username:e?K.a.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName():null}}var V=v.a.input(P||(P=Object(u.a)(["\n  margin: 0px 2px 2px 2px;\n  padding-left: 5px;\n  box-sizing: border-box;\n\n  border: none;\n  width: var(--lwidth);\n  height: 50px;\n\n  font-size: 40px;\n  background-color: var(--frg);\n  color: var(--txt);\n  font-family: Terminus, Montserrat;\n\n  &:focus {\n    outline: none;\n  }\n\n  @media screen and (max-width: 912px) {\n    & {\n      width: var(--mwidth);\n    }\n  }\n\n  @media screen and (max-width: 608px) {\n    & {\n      width: var(--swidth);\n    }\n  }\n"]))),Y=Object(v.a)(R.a)(z||(z=Object(u.a)(["\n  display: "," !important;\n"])),(function(t){return t.open?"default":"none"}));function G(t){var e=t.text,n=t.setText,a=t.action,r=Object(c.useRef)(null),o=Object(c.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1],d=Object(c.useState)(null),f=Object(l.a)(d,2),h=f[0],g=f[1],p=A().addTask,j=H(),b=j.loggedIn,v=j.logOut,x=j.logIn,O=Object(c.useCallback)((function(t){e.length?document.title="".concat(t," - ").concat(e):document.title="\ud83c\udfe0 Home"}),[e]);return Object(c.useEffect)((function(){O("\ud83d\udd0d")}),[e,O]),Object(c.useEffect)((function(){var t=O.bind(null,"\ud83d\udcdd"),e=O.bind(null,"\ud83d\udd0d");return window.addEventListener("blur",t),window.addEventListener("focus",e),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",e)}}),[O]),Object(c.useEffect)((function(){window.addEventListener("keydown",(function(t){"Escape"===t.key&&u(!1)}))})),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("form",{id:"action",onSubmit:function(t){if(t.preventDefault(),/^\/t(ask)?/.test(e)){var r=e.match(/[\s].*/g);g(null!==r?r[0].trim():null),u(!0)}else if(/^\/login/.test(e)){if(b)return;x(),n("")}else if(/^\/logout/.test(e)){if(!b)return;v(),n(""),window.localStorage.clear()}else window.location.assign(null!==a?m(a):"".concat("https://google.com/search","?q=").concat(encodeURIComponent(e)))},children:Object(L.jsx)(V,{type:"text",value:e,ref:r,autoFocus:!0,autoComplete:"off",onChange:function(t){return n(t.target.value)}})}),Object(L.jsx)(Y,{selectedDays:new Date,open:s,onDayClick:function(t){null!==h&&t&&(p({title:h,due:t.toISOString()}),n("")),u(!1)}})]})}var X,Z,Q,_,tt,et=n(9),nt=n.n(et),at=v.a.div(X||(X=Object(u.a)(["\n  width: 180px;\n\n  margin-right: auto;\n\n  display: flex;\n"]))),rt=v.a.span(Z||(Z=Object(u.a)(["\n  align-self: flex-start;\n\n  color: var(--htx);\n"]))),ct=Object(v.a)(rt)(Q||(Q=Object(u.a)(["\n  margin-right: auto;\n\n  align-self: flex-end;\n"])));function ot(){var t=Object(c.useState)(new Date),e=Object(l.a)(t,2),n=e[0],a=e[1];return Object(c.useEffect)((function(){var t=setInterval((function(){a(new Date)}),1e3);return function(){clearInterval(t)}}),[]),Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(at,{children:[Object(L.jsx)(ct,{id:"clock",children:nt()(n).format("HH:mm:ss")}),Object(L.jsx)(rt,{id:"date",children:nt()(n).format("ddd, MMM D")})]})})}var it,st=v.a.div(_||(_=Object(u.a)(["\n  margin: 2px 2px 0 2px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  align-items: center;\n\n  padding: 0 5px;\n  width: var(--lwidth);\n\n  background-color: var(--hdr);\n\n  color: var(--txt);\n  font-size: 16px;\n  line-height: 30px;\n\n  @media screen and (max-width: 912px) {\n    & {\n      width: var(--mwidth);\n      margin: 2px auto 0 auto;\n    }\n  }\n\n  @media screen and (max-width: 608px) {\n    & {\n      width: var(--swidth);\n    }\n  }\n"]))),lt=v.a.a(tt||(tt=Object(u.a)(["\n  color: var(--htx);\n  text-decoration: none;\n\n  &:hover {\n    color: var(--txt);\n  }\n\n  & + & {\n    margin-left: 15px;\n  }\n\n  @media screen and (max-width: 608px) {\n    &:first-of-type {\n      margin-left: 110px;\n    }\n  }\n"])));function ut(){return Object(L.jsxs)(st,{id:"static-links",children:[Object(L.jsx)(ot,{}),["Spotify","Slack","Steam"].map((function(t,e){return Object(L.jsx)(lt,{href:t.toLowerCase()+":",children:t},e)}))]})}var dt,ft,ht,gt,pt,jt=v.a.div(it||(it=Object(u.a)(["\n  // transition: 0.2s height;\n\n  max-width: 912px;\n\n  user-select: none;\n  text-align: center;\n"])));function bt(){var t=y("q",""),e=Object(l.a)(t,2),n=e[0],a=e[1],r=Object(c.useState)(null),o=Object(l.a)(r,2),i=o[0],s=o[1],u=Object(d.a)(),f=u.height,h=u.ref;return Object(c.useEffect)((function(){void 0!==f&&f>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--homesearch-height").slice(0,-2))&&document.documentElement.style.setProperty("--homesearch-height","".concat(f,"px"))}),[f]),Object(L.jsxs)(jt,{id:"main",ref:h,children:[Object(L.jsx)(ut,{}),Object(L.jsx)(G,{text:n,setText:a,action:i}),Object(L.jsx)(F,{query:n,setAction:s})]})}var vt=v.a.div(dt||(dt=Object(u.a)(["\n  padding: 5px;\n\n  height: 20px;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n\n  background-color: var(--hdr);\n\n  color: var(--htx);\n"]))),xt=v.a.i.attrs({className:"fas fa-bars"})(ft||(ft=Object(u.a)(["\n  padding: 7px 12px 8px 5px;\n\n  font-size: 1.2em;\n  color: var(--frg-l);\n\n  &:hover {\n    color: var(--frg-ll);\n  }\n"]))),mt=v.a.span(ht||(ht=Object(u.a)(["\n  margin: 0 auto 0 0;\n"]))),Ot=v.a.div(gt||(gt=Object(u.a)(["\n  max-height: ",";\n  transition: max-height\n    ",";\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n\n  overflow: auto;\n\n  background-color: var(--frg);\n  color: var(--txt);\n"])),(function(t){return t.open?"1000px":"0"}),(function(t){return t.open?"0.35s ease-in":"0.25s ease-out"})),kt=v.a.span(pt||(pt=Object(u.a)(["\n  padding: 5px;\n\n  &:hover {\n    background-color: var(--hdr);\n  }\n"])));function wt(t){var e=t.tasklists,n=t.activeList,a=t.setActiveList,r=Object(c.useState)(!1),o=Object(l.a)(r,2),i=o[0],s=o[1],u=H().loggedIn;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(vt,{id:"tasksbar",children:[u?Object(L.jsx)(xt,{onClick:x(s,!i)}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)(mt,{children:u&&n.title?"Tasks - ".concat(n.title):"Tasks - Not logged in"})]}),Object(L.jsx)(Ot,{open:i,children:e.map((function(t,e){return Object(L.jsx)(kt,{onClick:function(){a(t),s(!1)},children:t.title},e)}))})]})}var yt,Tt,Et,St,Ct,It,Dt,At,Lt,Mt,Nt=n(26),Ut=n(7),$t=n.n(Ut),Ft=n(38),Pt=n.n(Ft),zt=v.a.div(yt||(yt=Object(u.a)(["\n  margin: 0 5px 5px 5px;\n  padding: 0 0 10px 0;\n\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n\n  background-color: var(--hdr);\n\n  color: var(--txt);\n"]))),Wt=v.a.textarea.attrs({rows:1})(Tt||(Tt=Object(u.a)(["\n  margin: 5px;\n  padding: 0 5px;\n  box-sizing: border-box;\n  height: 1.5em;\n\n  border: 1px solid ",";\n\n  background-color: var(--frg);\n  color: var(--txt);\n  font-family: Terminus, Montserrat;\n\n  resize: none;\n\n  &:focus {\n    outline: none;\n  }\n"])),(function(t){return t.error?"#aa0000":"#00000000"})),Rt=v.a.div(Et||(Et=Object(u.a)(["\n  padding-top: 3px;\n\n  width: min-content;\n\n  display: flex;\n  flex-direction: column;\n"]))),Kt=v.a.div(St||(St=Object(u.a)(["\n  margin-right: 0;\n\n  display: flex;\n  flex-direction: row;\n  align-content: flex-start;\n  align-items: center;\n"]))),qt=v.a.i.attrs({className:"fas fa-calendar-day"})(Ct||(Ct=Object(u.a)(["\n  margin: 5px 5px 5px 10px;\n  color: var(--frg-l);\n"])));function Jt(t){var e=t.task,n=t.setTask,a=t.setChecked,r=t.setDeleted,o=Object(c.useRef)(null),i=Object(c.useState)(void 0),s=Object(l.a)(i,2),u=s[0],d=s[1];function f(){o.current&&(o.current.style.height="",o.current.style.height="".concat(o.current.scrollHeight+3,"px"))}return Object(c.useEffect)(f,[o]),Object(c.useEffect)((function(){if(e.due){var t=new Date(e.due.split("T")[0]);d(new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))}else d(void 0)}),[e.due]),Object(c.useEffect)((function(){f()}),[e.title]),Object(L.jsxs)(zt,{className:"taskentry",children:[Object(L.jsx)(C,{checked:"completed"===e.status,onClick:a}),Object(L.jsxs)(Rt,{children:[Object(L.jsx)(Wt,{ref:o,value:e.title,error:""===e.title,placeholder:"Description can't be empty",onChange:function(t){return n({title:t.target.value.replace(/\n/g,"")})}}),Object(L.jsxs)(Kt,{children:[Object(L.jsx)(qt,{}),Object(L.jsx)(Pt.a,{placeholder:"No due date",parseDate:function(t,e,n){var a=nt()(t,e,n);return a.isValid()?a.toDate():void 0},formatDate:function(t,e,n){return nt()(t,void 0,n).format(e)},format:"dddd, MMM D",dayPickerProps:{onDayClick:function(t){return n({due:t.toISOString()})}},inputProps:{onChange:function(t){try{var e=new Date(t.target.value);n({due:new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()).toISOString()})}catch(a){""===t.target.value&&n({due:""})}}},value:u})]})]}),Object(L.jsx)(I,{onClick:r})]})}var Bt=v.a.div(It||(It=Object(u.a)(["\n  padding: 5px;\n  margin: 0 5px 5px 5px;\n\n  color: var(--htx);\n\n  &:hover {\n    color: var(--txt);\n    hr {\n      background-color: var(--txt);\n    }\n  }\n"]))),Ht=v.a.hr(Dt||(Dt=Object(u.a)(["\n  height: 1px;\n\n  border-width: 0;\n\n  background-color: var(--htx);\n"]))),Vt=v.a.i.attrs((function(t){var e=t.expanded;return{className:"fas fa-chevron-".concat(e?"down":"right")}}))(At||(At=Object(u.a)(["\n  &.fa-chevron-right {\n    margin-right: 7px;\n  }\n\n  &.fa-chevron-down {\n    margin-right: 3px;\n  }\n"])));function Yt(t){var e=t.tasks,n=t.setTask,a=t.setChecked,r=t.setDeleted,o=Object(c.useState)(!1),i=Object(l.a)(o,2),s=i[0],u=i[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(Bt,{id:"completedtasks",onClick:x(u,!s),children:[Object(L.jsx)(Ht,{}),Object(L.jsx)(Vt,{expanded:s}),Object(L.jsx)("span",{children:"Completed tasks"})]}),s?e.map((function(t,e){return Object(L.jsx)(Jt,{task:t,setTask:x(n,t.id,e),setChecked:x(a,t.id,e),setDeleted:x(r,t.id,e)},e)})):""]})}var Gt,Xt=v.a.div(Lt||(Lt=Object(u.a)(["\n  height: 100%;\n  width: 100%;\n  padding-top: 5px;\n\n  overflow: visible;\n\n  background-color: var(--frg);\n\n  color: var(--htx);\n  text-align: center;\n"]))),Zt=v.a.p(Mt||(Mt=Object(u.a)(["\n  margin: 20px 80px;\n"])));function Qt(t){var e=t.tasks,n=t.setTasks,a=t.completed,r=t.setCompleted,o=t.activeTaskList,i=A().setAddTask,s=H(),u=s.loggedIn,d=s.username,f=Object(c.useCallback)((function(t){try{var a;null===(a=gapi.client.tasks.tasks)||void 0===a||a.insert({resource:t,tasklist:o.id}).then((function(t){if("OK"!==t.statusText)throw Error("failed to add task");n($t()(e,{$push:[t.result]}))})).catch((function(t){return console.error(t)}))}catch(r){console.error(r)}}),[e,n,o.id]);Object(c.useEffect)((function(){i(f)}),[f,i]);var h,g=Object(c.useState)({}),p=Object(l.a)(g,2),j=p[0],b=p[1];function v(t,e,n,a,r,c){e($t()(t,Object(Nt.a)({},r,{$merge:c})));var o=j[a];if(void 0!==o&&clearTimeout(o),""!==c.title){var i=window.setTimeout((function(){var t;null===(t=gapi.client.tasks.tasks)||void 0===t||t.patch({resource:c,tasklist:n,task:a}).then((function(t){if("OK"!==t.statusText)throw Error("failed to update task ".concat(n," : ").concat(a));b($t()(j,{$unset:[a]}))})).catch((function(t){return console.error(t)}))}),500);b($t()(j,{$merge:Object(Nt.a)({},a,i)}))}}function m(t,e,n,a,r){try{var c;null===(c=gapi.client.tasks.tasks)||void 0===c||c.delete({tasklist:n,task:a}).then((function(c){if(204!==c.status)throw Error("failed to delete task ".concat(n," : ").concat(a));e($t()(t,{$splice:[[r,1]]}))})).catch((function(t){return console.error(t)}))}catch(o){console.error(o)}}function O(t,e,n,a,r,c,o){var i,s=t[o],l={status:"completed"===s.status?"needsAction":"completed"};null===(i=gapi.client.tasks.tasks)||void 0===i||i.patch({resource:l,tasklist:r,task:c}).then((function(i){if("OK"!==i.statusText)throw Error("failed to toggle task completed ".concat(r," : ").concat(c));var l=$t()(t,{$splice:[[o,1]]});e(l);var u=$t()(n,{$push:[$t()(s,"completed"===s.status?{$unset:["completed"],$merge:{status:"needsAction"}}:{$merge:{status:"completed"}})]});a(u)}))}return h=u?Object(L.jsxs)(L.Fragment,{children:[e.length?e.map((function(t,c){return Object(L.jsx)(Jt,{task:t,setTask:x(v,e,n,o.id,t.id,c),setChecked:x(O,e,n,a,r,o.id,t.id,c),setDeleted:x(m,e,n,o.id,t.id,c)},c)})):Object(L.jsxs)(Zt,{children:["Looks like you have some free time, ",d," :)"]}),Object(L.jsx)(Yt,{tasks:a,setTask:x(v,a,r,o.id),setChecked:x(O,a,r,e,n,o.id),setDeleted:x(m,a,r,o.id)})]}):Object(L.jsx)(Zt,{children:"Use /login to log into Tasks"}),Object(L.jsx)(Xt,{id:"taskslist",children:h})}var _t=v.a.div(Gt||(Gt=Object(u.a)(["\n  height: var(--homesearch-height);\n\n  display: flex;\n  flex-direction: column;\n\n  @media screen and (max-width: 608px) {\n    & {\n      height: min-content;\n      margin: 60px 0;\n    }\n  }\n"])));function te(){var t=k("tasklists",[]),e=Object(l.a)(t,2),n=e[0],a=e[1],r=k("activelist",{}),o=Object(l.a)(r,2),i=o[0],s=o[1],u=k("tasks",[]),d=Object(l.a)(u,2),f=d[0],h=d[1],g=k("completed",[]),p=Object(l.a)(g,2),j=p[0],b=p[1],v=H().loggedIn;return Object(c.useEffect)((function(){h(f.sort((function(t,e){return t.due&&e.due?new Date(t.due).getTime()-new Date(e.due).getTime():t.position&&e.position?t.position.localeCompare(e.position):0})))}),[f,h]),Object(c.useEffect)((function(){if(v)try{var t;null===(t=K.a.client.tasks.tasklists)||void 0===t||t.list().then((function(t){if("OK"!==t.statusText)throw Error("failed to get tasklists");t.result.items&&(a(t.result.items),void 0===i.title&&s(t.result.items[0]))})).catch((function(t){console.error(t)}))}catch(e){console.error(e)}}),[v,a,s,i.title]),Object(c.useEffect)((function(){if(v&&i.id)try{var t;null===(t=K.a.client.tasks.tasks)||void 0===t||t.list({tasklist:i.id,showCompleted:!0,maxResults:100}).then((function(t){if("OK"!==t.statusText)throw Error("failed to get tasks for list ".concat(i.title));var e=t.result.items||[];h(e.filter((function(t){return void 0===t.completed}))),b(e.filter((function(t){return t.completed})))})).catch((function(t){return console.error(t)}))}catch(e){console.error(e)}}),[v,h,b,i.id,i.title]),Object(L.jsxs)(_t,{id:"tasksmain",children:[Object(L.jsx)(wt,{tasklists:n,activeList:i,setActiveList:s}),Object(L.jsx)(Qt,{tasks:f,setTasks:h,completed:j,setCompleted:b,activeTaskList:i})]})}function ee(){return Object(c.useEffect)((function(){var t,e;document.documentElement.style.setProperty("--base","".concat((t=10,e=360,Math.floor(Math.random()*(e-t+1))+t)))}),[]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(bt,{}),Object(L.jsx)(te,{})]})}n(61),n(62);var ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}s.a.render(Object(L.jsx)(o.a.StrictMode,{children:Object(L.jsx)(ee,{})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ne?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):ae(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ae(e,t)}))}}()}},[[63,1,2]]]);
//# sourceMappingURL=main.fd51f618.chunk.js.map