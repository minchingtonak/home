(this.webpackJsonphome=this.webpackJsonphome||[]).push([[0],{206:function(t,e,n){},207:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(15),c=n.n(o),i=n(8),s=n(9),l=n(95),d=n(26),u=n(94),f=n.n(u),b=n(55),h=n(7),j=n(242),p=n(98),g=n(238),x=n(239),m=n(17),v=n(240),O=n(88),k=n(62),w=n.n(k),y=n(4);function C(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(void 0,n.concat(r))}}function I(t){return/^https?:\/\//.test(t)?t:"//".concat(t)}var S=window.localStorage;function T(t,e){var n=Object(r.useState)((function(){var n=S.getItem(t);return null!==n?JSON.parse(n):e})),a=Object(i.a)(n,2),o=a[0],c=a[1];return Object(r.useEffect)((function(){S.setItem(t,JSON.stringify(o))}),[o,t]),[o,c]}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,e=w.a.parse(t),n=Object.keys(e).find((function(t){return t.startsWith("?")}));if(n){var r=e[n];delete e[n],e[n.slice(1)]=r}return e}function A(t,e){var n=Object(r.useState)(function(t){return E()[t]}(t)||e),a=Object(i.a)(n,2),o=a[0],c=a[1];return[o,Object(r.useCallback)((function(e){c(e),function(t,e){var n=E();t in n&&!e?delete n[t]:n[t]=e;var r=window.location.protocol+"//"+window.location.host+window.location.pathname+"".concat(Object.keys(n).length?"?":"").concat(w.a.stringify(n));window.history.pushState({path:r},"",r)}(t,e)}),[t])]}var L=Object(h.a)({root:{color:"var(--txt)","&$checked":{color:"var(--txt)"}},checked:{}},{index:1})((function(t){return Object(y.jsx)(j.a,Object(b.a)({color:"default"},t))})),M=function(t,e){return{root:{color:"".concat(t," !important"),"&$error":{"&:before":{borderBottom:"1px solid red !important"},"&:after":{borderBottom:"3px solid red !important"}}},underline:{"&:before":{borderBottom:"1px solid ".concat(e," !important")},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:"2px solid ".concat(e," !important")},"&:after":{borderBottom:"3px solid ".concat(e," !important")}},disabled:{},focused:{},error:{}}},D=Object(p.a)({overrides:{MuiInput:M("var(--htx)","var(--htx)"),MuiPaper:{root:{border:"3px solid var(--frg) !important"},rounded:{borderRadius:"0 !important",backgroundColor:"var(--frg) !important"}},MuiPickersToolbar:{toolbar:{backgroundColor:"var(--hdr) !important"}},MuiPickersCalendarHeader:{iconButton:{color:"var(--txt) !important",backgroundColor:"var(--hdr) !important",margin:"0 5px !important"},switchHeader:{color:"var(--txt) !important",backgroundColor:"var(--frg) !important"},daysHeader:{color:"var(--txt) !important",backgroundColor:"var(--frg) !important"},dayLabel:{color:"var(--txt) !important"}},MuiPickersDay:{day:{color:"var(--txt) !important",backgroundColor:"var(--frg) !important","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1) !important"}},daySelected:{color:"var(--txt) !important",backgroundColor:"var(--hdr) !important","&:hover":{backgroundColor:"var(--bkg) !important"}},dayDisabled:{color:"var(--htx) !important"},current:{color:"var(--txt) !important"}},MuiPickersClock:{clock:{backgroundColor:"var(--hdr) !important"},pin:{backgroundColor:"var(--frg) !important"}},MuiPickersClockNumber:{clockNumber:{color:"var(--txt) !important"},clockNumberSelected:{backgroundColor:"var(--frg) !important"}},MuiPickersClockPointer:{pointer:{backgroundColor:"var(--frg) !important"},thumb:{borderColor:"#00000000 !important",backgroundColor:"var(--frg) !important"},noPoint:{backgroundColor:"#00000000 !important"}},MuiPickersYear:{root:{color:"var(--htx) !important"},yearSelected:{color:"var(--txt) !important"}}}}),P=Object(h.a)(M("var(--txt)","var(--txt)"),{index:1})((function(t){return Object(y.jsx)(g.a,Object(b.a)({},t))}));function $(t){return Object(y.jsx)(m.a,{utils:O.a,children:Object(y.jsx)(x.a,{theme:D,children:Object(y.jsx)(v.a,Object(b.a)({},t))})})}var N=Object(r.createContext)({loggedIn:!1,setLoggedIn:function(){}});function F(t){var e=t.children,n=Object(r.useState)(!1),a=Object(i.a)(n,2),o=a[0],c=a[1];return Object(y.jsx)(N.Provider,{value:{loggedIn:o,setLoggedIn:c},children:e})}var B=Object(r.createContext)({addTask:function(t){},setAddTask:function(){}});function R(t){var e=t.children,n=Object(r.useReducer)((function(t,e){return e}),(function(t){})),a=Object(i.a)(n,2),o=a[0],c=a[1];return Object(y.jsx)(B.Provider,{value:{addTask:o,setAddTask:c},children:e})}var z,K,H,J=function(){return Object(r.useContext)(B)},U=n(10),q=U.a.div(z||(z=Object(s.a)(["\n  vertical-align: top;\n\n  display: inline-block;\n\n  overflow: hidden;\n\n  box-sizing: border-box;\n  margin: 2px;\n  height: var(--section-height);\n  width: var(--section-width);\n\n  background-color: var(--hdr);\n\n  text-align: left;\n  color: var(--htx);\n\n  &:before {\n    content: '';\n    margin-left: 5px;\n  }\n"]))),X=U.a.div(K||(K=Object(s.a)(["\n  padding: 10px 15px 15px 10px;\n\n  height: 100%;\n\n  background-color: var(--frg);\n"])));function G(t){var e=t.title,n=t.children;return n.length?Object(y.jsxs)(q,{id:e,children:[e,Object(y.jsx)(X,{children:n})]}):Object(y.jsx)(y.Fragment,{})}var V=U.a.a(H||(H=Object(s.a)(["\n  margin-bottom: var(--link-margin);\n  padding-left: 5px;\n\n  display: block;\n\n  color: var(--txt);\n  text-decoration: none;\n\n  &:hover,\n  &.selected {\n    background-color: rgba(255, 255, 255, 0.05);\n\n    color: var(--hgl);\n  }\n"])));function W(t){var e=t.query,n=t.setAction,a=T("sites",null),o=Object(i.a)(a,2),c=o[0],s=o[1],l=Object(r.useState)([]),u=Object(i.a)(l,2),b=u[0],h=u[1],j=Object(r.useState)(null),p=Object(i.a)(j,2),g=p[0],x=p[1],m=Object(r.useState)(0),v=Object(i.a)(m,2),O=v[0],k=v[1];Object(r.useEffect)((function(){fetch("https://gist.githubusercontent.com/minchingtonak/b60356be980dc4f430fe73b523d1fafb/raw").then((function(t){return t.json()})).then((function(t){return s(t)})).catch((function(t){return console.error(t)}))}),[s]),Object(r.useEffect)((function(){null!==c&&document.documentElement.style.setProperty("--max-links","".concat(Math.max.apply(Math,Object(d.a)(Object.keys(c).map((function(t){return Object.keys(c[t]).length}))))))}),[c]);var w=Object(r.useCallback)((function(t){if(null!==c){var r=[],a=0,o=!1;Object.keys(c).forEach((function(i,s){var l=c[i],d=Object.keys(l).filter((function(t){return t.toLowerCase().includes(e)}));d.length&&(o=!0,r.push(Object(y.jsx)(G,{title:i,children:d.map((function(e,r){var o=a++===t;return o&&n(l[e]),Object(y.jsx)(V,{href:I(l[e]),className:o?"selected":"",children:e},r)}))},s)))})),k(a),h(r),x(t),o&&e.length||n(null)}}),[e,c,n]);return Object(r.useEffect)((function(){f.a.isURL(e,{require_tld:!1})?n(e):null===e.match(/^lh\d{3,5}$/)&&null===e.match(/^localhost:\d{3,5}$/)?w(e.length?0:null):n("http://localhost:".concat(e.match(/\d{3,5}/)[0]))}),[e,n,w]),Object(r.useEffect)((function(){function t(t){var e=g;"ArrowUp"===t.key||"ArrowLeft"===t.key?null!==g&&g>0&&(e=g-1):"ArrowDown"!==t.key&&"ArrowRight"!==t.key||null!==g&&g<O&&(e=g+1),e!==g&&w(e)}return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[g,O,w]),Object(y.jsx)("div",{id:"links",children:b})}var Y,Z,_=n(23),Q=["https://www.googleapis.com/discovery/v1/apis/tasks/v1/rest"],tt="https://www.googleapis.com/auth/tasks",et=!1;function nt(){var t=Object(r.useContext)(N),e=t.loggedIn,n=t.setLoggedIn,a=Object(r.useState)(!1),o=Object(i.a)(a,2),c=o[0],s=o[1],l=T("offlineaccess",!1),d=Object(i.a)(l,2),u=d[0],f=d[1];Object(r.useEffect)((function(){e||_.a.load("client:auth2",(function(){var t;t=function(t){n(t),setTimeout((function(){t&&!u&&_.a.auth2.getAuthInstance().currentUser.get().grantOfflineAccess({scope:tt,prompt:"consent"}).then((function(t){t.code,f(!0)}))}),5e3)},et||(et=!0,_.a.client.init({apiKey:"AIzaSyBZJJOMt3MkTKNiTgX8lRAkRx8Nd0A8lTc",clientId:"529992368744-omh87l4imgosp83f9l67toav9rgl2bru.apps.googleusercontent.com",discoveryDocs:Q,scope:tt}).then((function(){_.a.auth2.getAuthInstance().isSignedIn.listen(t),t(_.a.auth2.getAuthInstance().isSignedIn.get())})).catch((function(t){console.error("Auth init error: ",t)}))),s(!0)}))}),[e,n,u,f]);var b=c?_.a.auth2.getAuthInstance():{signIn:function(){},signOut:function(){}};return{loggedIn:e,setLoggedIn:n,logIn:b.signIn,logOut:b.signOut,username:e?_.a.auth2.getAuthInstance().currentUser.get().getBasicProfile().getGivenName():null}}var rt=U.a.input(Y||(Y=Object(s.a)(["\n  margin: 0px 2px 2px 2px;\n  padding-left: 5px;\n  box-sizing: border-box;\n\n  border: none;\n  width: var(--lwidth);\n  height: 50px;\n\n  font-size: 40px;\n  background-color: var(--frg);\n  color: var(--txt);\n  font-family: Terminus, Montserrat;\n\n  &:focus {\n    outline: none;\n  }\n\n  @media screen and (max-width: 912px) {\n    & {\n      width: var(--mwidth);\n    }\n  }\n\n  @media screen and (max-width: 608px) {\n    & {\n      width: var(--swidth);\n    }\n  }\n"]))),at=Object(U.a)($)(Z||(Z=Object(s.a)(["\n  display: none !important;\n"])));function ot(t){var e=t.text,n=t.setText,a=t.action,o=Object(r.useRef)(null),c=Object(r.useState)(!1),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(r.useState)(null),f=Object(i.a)(u,2),b=f[0],h=f[1],j=J().addTask,p=nt(),g=p.loggedIn,x=p.logOut,m=p.logIn,v=Object(r.useCallback)((function(t){e.length?document.title="".concat(t," - ").concat(e):document.title="\ud83c\udfe0 Home"}),[e]);return Object(r.useEffect)((function(){v("\ud83d\udd0d")}),[e,v]),Object(r.useEffect)((function(){var t=v.bind(null,"\ud83d\udcdd"),e=v.bind(null,"\ud83d\udd0d");return window.addEventListener("blur",t),window.addEventListener("focus",e),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",e)}}),[v]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("form",{id:"action",onSubmit:function(t){if(t.preventDefault(),/^\/t(ask)?/.test(e)){var r=e.match(/[\s].*/g);h(null!==r?r[0].trim():null),d(!0)}else if(/^\/login/.test(e)){if(g)return;m(),n("")}else if(/^\/logout/.test(e)){if(!g)return;x(),n(""),window.localStorage.clear()}else window.location.assign(null!==a?I(a):"".concat("https://google.com/search","?q=").concat(encodeURIComponent(e)))},children:Object(y.jsx)(rt,{type:"text",value:e,ref:o,autoFocus:!0,autoComplete:"off",onChange:function(t){return n(t.target.value)}})}),Object(y.jsx)(at,{variant:"dialog",autoOk:!0,okLabel:Object(y.jsx)(y.Fragment,{}),cancelLabel:Object(y.jsx)(y.Fragment,{}),value:new Date,open:l,onChange:function(){},onAccept:function(t){null!==b&&t&&(j({title:b,due:t.toISOString()}),n(""))},onClose:C(d,!1)})]})}var ct,it,st,lt,dt,ut=n(30),ft=n.n(ut),bt=U.a.div(ct||(ct=Object(s.a)(["\n  width: 180px;\n\n  margin-right: auto;\n\n  display: flex;\n"]))),ht=U.a.span(it||(it=Object(s.a)(["\n  align-self: flex-start;\n\n  color: var(--htx);\n"]))),jt=Object(U.a)(ht)(st||(st=Object(s.a)(["\n  margin-right: auto;\n\n  align-self: flex-end;\n"])));function pt(){var t=Object(r.useState)(new Date),e=Object(i.a)(t,2),n=e[0],a=e[1];return Object(r.useEffect)((function(){var t=setInterval((function(){a(new Date)}),1e3);return function(){clearInterval(t)}}),[]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(bt,{children:[Object(y.jsx)(jt,{id:"clock",children:ft()(n).format("HH:mm:ss")}),Object(y.jsx)(ht,{id:"date",children:ft()(n).format("ddd, MMM D")})]})})}var gt,xt=U.a.div(lt||(lt=Object(s.a)(["\n  margin: 2px 2px 0 2px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  align-items: center;\n\n  padding: 0 5px;\n  width: var(--lwidth);\n\n  background-color: var(--hdr);\n\n  color: var(--txt);\n  font-size: 16px;\n  line-height: 30px;\n\n  @media screen and (max-width: 912px) {\n    & {\n      width: var(--mwidth);\n      margin: 2px auto 0 auto;\n    }\n  }\n\n  @media screen and (max-width: 608px) {\n    & {\n      width: var(--swidth);\n    }\n  }\n"]))),mt=U.a.a(dt||(dt=Object(s.a)(["\n  color: var(--htx);\n  text-decoration: none;\n\n  &:hover {\n    color: var(--txt);\n  }\n\n  & + & {\n    margin-left: 15px;\n  }\n\n  @media screen and (max-width: 608px) {\n    &:first-of-type {\n      margin-left: 110px;\n    }\n  }\n"])));function vt(){return Object(y.jsxs)(xt,{id:"static-links",children:[Object(y.jsx)(pt,{}),["Spotify","Slack","Steam"].map((function(t,e){return Object(y.jsx)(mt,{href:t.toLowerCase()+":",children:t},e)}))]})}var Ot,kt,wt,yt,Ct,It=U.a.div(gt||(gt=Object(s.a)(["\n  // transition: 0.2s height;\n\n  max-width: 912px;\n\n  user-select: none;\n  text-align: center;\n"])));function St(){var t=A("q",""),e=Object(i.a)(t,2),n=e[0],a=e[1],o=Object(r.useState)(null),c=Object(i.a)(o,2),s=c[0],d=c[1],u=Object(l.a)(),f=u.height,b=u.ref;return Object(r.useEffect)((function(){void 0!==f&&f>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--homesearch-height").slice(0,-2))&&document.documentElement.style.setProperty("--homesearch-height","".concat(f,"px"))}),[f]),Object(y.jsxs)(It,{id:"main",ref:b,children:[Object(y.jsx)(vt,{}),Object(y.jsx)(ot,{text:n,setText:a,action:s}),Object(y.jsx)(W,{query:n,setAction:d})]})}var Tt=U.a.div(Ot||(Ot=Object(s.a)(["\n  padding: 5px;\n\n  height: 20px;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n\n  background-color: var(--hdr);\n\n  color: var(--htx);\n"]))),Et=U.a.i.attrs({className:"fas fa-bars"})(kt||(kt=Object(s.a)(["\n  padding: 5px 15px 5px 5px;\n\n  background-color: var(--hdr);\n  color: var(--txt);\n  font-size: 1.2em;\n"]))),At=U.a.span(wt||(wt=Object(s.a)(["\n  margin: 0 auto 0 0;\n"]))),Lt=U.a.div(yt||(yt=Object(s.a)(["\n  max-height: ",";\n  transition: max-height\n    ",";\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n\n  overflow: auto;\n\n  background-color: var(--frg);\n  color: var(--txt);\n"])),(function(t){return t.open?"500px":"0"}),(function(t){return t.open?"0.25s ease-in":"0.15s ease-out"})),Mt=U.a.span(Ct||(Ct=Object(s.a)(["\n  padding: 5px;\n\n  &:hover {\n    background-color: var(--hdr);\n  }\n"])));function Dt(t){var e=t.tasklists,n=t.activeList,a=t.setActiveList,o=Object(r.useState)(!1),c=Object(i.a)(o,2),s=c[0],l=c[1],d=nt().loggedIn;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(Tt,{id:"tasksbar",children:[d?Object(y.jsx)(Et,{onClick:C(l,!s)}):Object(y.jsx)(y.Fragment,{}),Object(y.jsx)(At,{children:d&&n.title?"Tasks - ".concat(n.title):"Tasks"})]}),Object(y.jsx)(Lt,{open:s,children:e.map((function(t,e){return Object(y.jsx)(Mt,{onClick:function(){a(t),l(!1)},children:t.title},e)}))})]})}var Pt,$t,Nt,Ft,Bt,Rt,zt,Kt,Ht,Jt,Ut,qt,Xt=n(13),Gt=n(31),Vt=n.n(Gt),Wt=U.a.div(Pt||(Pt=Object(s.a)(["\n  margin: 0 5px 5px 5px;\n  padding: 0 0 10px 0;\n\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n\n  background-color: var(--hdr);\n\n  color: var(--txt);\n"]))),Yt=Object(U.a)(P)($t||($t=Object(s.a)(["\n  // margin: 10px 10px 10px 7px;\n\n  font-size: large;\n"]))),Zt=U.a.div(Nt||(Nt=Object(s.a)(["\n  padding-top: 3px;\n\n  display: flex;\n  flex-direction: column;\n"]))),_t=U.a.i.attrs({className:"far fa-trash-alt fa-lg"})(Ft||(Ft=Object(s.a)(["\n  padding: 10px;\n\n  transform: scale(0.96);\n\n  color: var(--htx);\n\n  &:hover {\n    color: var(--txt);\n  }\n"]))),Qt=U.a.div(Bt||(Bt=Object(s.a)(["\n  margin-right: 0;\n\n  display: flex;\n  align-content: flex-start;\n  align-items: center;\n"]))),te=U.a.i.attrs({className:"far fa-clock"})(Rt||(Rt=Object(s.a)(["\n  margin: 5px 5px 5px 4px;\n  color: var(--htx);\n"]))),ee=Object(U.a)($)(zt||(zt=Object(s.a)(["\n  transform: scale(0.88) translateX(-13px);\n"])));function ne(t){var e=t.task,n=t.setTask,r=t.setChecked,a=t.setDeleted;return Object(y.jsxs)(Wt,{className:"taskentry",children:[Object(y.jsx)(L,{checked:void 0!==e.completed,onChange:r}),Object(y.jsxs)(Zt,{children:[Object(y.jsx)(Yt,{value:e.title,error:""===e.title,placeholder:"Description cannot be empty",onChange:function(t){return n({title:t.target.value})}}),Object(y.jsxs)(Qt,{children:[Object(y.jsx)(te,{}),Object(y.jsx)(ee,{variant:"inline",autoOk:!0,value:e.due?ft()(e.due).add(12,"hour"):null,format:"dddd, MMM D",onAccept:function(t){n({due:null===t||void 0===t?void 0:t.toISOString()})},onChange:function(){}})]})]}),Object(y.jsx)(_t,{onClick:a})]})}var re=U.a.div(Kt||(Kt=Object(s.a)(["\n  padding: 5px;\n  margin: 0 5px 5px 5px;\n\n  color: var(--htx);\n\n  &:hover {\n    color: var(--txt);\n    hr {\n      background-color: var(--txt);\n    }\n  }\n"]))),ae=U.a.hr(Ht||(Ht=Object(s.a)(["\n  height: 1px;\n\n  border-width: 0;\n\n  background-color: var(--htx);\n"]))),oe=U.a.i.attrs((function(t){var e=t.expanded;return{className:"fas fa-chevron-".concat(e?"down":"right")}}))(Jt||(Jt=Object(s.a)(["\n  &.fa-chevron-right {\n    margin-right: 7px;\n  }\n\n  &.fa-chevron-down {\n    margin-right: 3px;\n  }\n"])));function ce(t){var e=t.tasks,n=t.setTask,a=t.setChecked,o=t.setDeleted,c=Object(r.useState)(!1),s=Object(i.a)(c,2),l=s[0],d=s[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(re,{id:"completedtasks",onClick:C(d,!l),children:[Object(y.jsx)(ae,{}),Object(y.jsx)(oe,{expanded:l}),Object(y.jsx)("span",{children:"Completed tasks"})]}),l?e.map((function(t,e){return Object(y.jsx)(ne,{task:t,setTask:C(n,t.id,e),setChecked:C(a,t.id,e),setDeleted:C(o,t.id,e)},e)})):""]})}var ie,se=U.a.div(Ut||(Ut=Object(s.a)(["\n  height: 100%;\n  width: 100%;\n  padding-top: 5px;\n\n  overflow: auto;\n\n  background-color: var(--frg);\n\n  color: var(--htx);\n  text-align: center;\n"]))),le=U.a.p(qt||(qt=Object(s.a)(["\n  margin: 20px 5px;\n"])));function de(t){var e=t.tasks,n=t.setTasks,a=t.completed,o=t.setCompleted,c=t.activeTaskList,s=J().setAddTask,l=nt(),d=l.loggedIn,u=l.username,f=Object(r.useCallback)((function(t){try{var r;null===(r=gapi.client.tasks.tasks)||void 0===r||r.insert({resource:t,tasklist:c.id}).then((function(t){if("OK"!==t.statusText)throw Error("failed to add task");n(Vt()(e,{$push:[t.result]}))})).catch((function(t){return console.error(t)}))}catch(a){console.error(a)}}),[e,n,c.id]);Object(r.useEffect)((function(){s(f)}),[f,s]);var b,h=Object(r.useState)({}),j=Object(i.a)(h,2),p=j[0],g=j[1];function x(t,e,n,r,a,o){e(Vt()(t,Object(Xt.a)({},a,{$merge:o})));var c=p[r];if(void 0!==c&&clearTimeout(c),""!==o.title){var i=window.setTimeout((function(){var t;null===(t=gapi.client.tasks.tasks)||void 0===t||t.patch({resource:o,tasklist:n,task:r}).then((function(t){if("OK"!==t.statusText)throw Error("failed to update task ".concat(n," : ").concat(r));g(Vt()(p,{$unset:[r]}))})).catch((function(t){return console.error(t)}))}),500);g(Vt()(p,{$merge:Object(Xt.a)({},r,i)}))}}function m(t,e,n,r,a){try{var o;null===(o=gapi.client.tasks.tasks)||void 0===o||o.delete({tasklist:n,task:r}).then((function(o){if(204!==o.status)throw Error("failed to delete task ".concat(n," : ").concat(r));e(Vt()(t,{$splice:[[a,1]]}))})).catch((function(t){return console.error(t)}))}catch(c){console.error(c)}}function v(t,e,n,r,a,o,c){var i,s=t[c],l={status:"completed"===s.status?"needsAction":"completed"};null===(i=gapi.client.tasks.tasks)||void 0===i||i.patch({resource:l,tasklist:a,task:o}).then((function(i){if("OK"!==i.statusText)throw Error("failed to toggle task completed ".concat(a," : ").concat(o));var l=Vt()(t,{$splice:[[c,1]]});e(l);var d=Vt()(n,{$push:[Vt()(s,"completed"===s.status?{$unset:["completed"],$merge:{status:"needsAction"}}:{$merge:{status:"completed"}})]});r(d)}))}return b=d?Object(y.jsxs)(y.Fragment,{children:[e.length?e.map((function(t,r){return Object(y.jsx)(ne,{task:t,setTask:C(x,e,n,c.id,t.id,r),setChecked:C(v,e,n,a,o,c.id,t.id,r),setDeleted:C(m,e,n,c.id,t.id,r)},r)})):Object(y.jsxs)(le,{children:["Looks like you have some free time, ",u," :)"]}),Object(y.jsx)(ce,{tasks:a,setTask:C(x,a,o,c.id),setChecked:C(v,a,o,e,n,c.id),setDeleted:C(m,a,o,c.id)})]}):Object(y.jsx)("p",{children:"Use /login to log into Tasks"}),Object(y.jsx)(se,{id:"taskslist",children:b})}var ue=U.a.div(ie||(ie=Object(s.a)(["\n  width: var(--section-width);\n  height: var(--homesearch-height);\n\n  display: flex;\n  flex-direction: column;\n\n  @media screen and (max-width: 608px) {\n    & {\n      height: min-content;\n      margin: 0 0 60px 0;\n    }\n  }\n"])));function fe(){var t=T("tasklists",[]),e=Object(i.a)(t,2),n=e[0],a=e[1],o=T("activelist",{}),c=Object(i.a)(o,2),s=c[0],l=c[1],d=T("tasks",[]),u=Object(i.a)(d,2),f=u[0],b=u[1],h=T("completed",[]),j=Object(i.a)(h,2),p=j[0],g=j[1],x=nt().loggedIn;return Object(r.useEffect)((function(){b(f.sort((function(t,e){return t.due&&e.due?new Date(t.due).getTime()-new Date(e.due).getTime():t.position&&e.position?t.position.localeCompare(e.position):0})))}),[f,b]),Object(r.useEffect)((function(){if(x)try{var t;null===(t=_.a.client.tasks.tasklists)||void 0===t||t.list().then((function(t){if("OK"!==t.statusText)throw Error("failed to get tasklists");t.result.items&&(a(t.result.items),void 0===s.title&&l(t.result.items[0]))})).catch((function(t){console.error(t)}))}catch(e){console.error(e)}}),[x,a,l,s.title]),Object(r.useEffect)((function(){if(x&&s.id)try{var t;null===(t=_.a.client.tasks.tasks)||void 0===t||t.list({tasklist:s.id,showCompleted:!0,maxResults:100}).then((function(t){if("OK"!==t.statusText)throw Error("failed to get tasks for list ".concat(s.title));var e=t.result.items||[];b(e.filter((function(t){return void 0===t.completed}))),g(e.filter((function(t){return t.completed})))})).catch((function(t){return console.error(t)}))}catch(e){console.error(e)}}),[x,b,g,s.id,s.title]),Object(y.jsxs)(ue,{id:"tasksmain",children:[Object(y.jsx)(Dt,{tasklists:n,activeList:s,setActiveList:l}),Object(y.jsx)(de,{tasks:f,setTasks:b,completed:p,setCompleted:g,activeTaskList:s})]})}function be(){return Object(r.useEffect)((function(){var t,e;document.documentElement.style.setProperty("--base","".concat((t=10,e=360,Math.floor(Math.random()*(e-t+1))+t)))}),[]),Object(y.jsx)(F,{children:Object(y.jsxs)(R,{children:[Object(y.jsx)(St,{}),Object(y.jsx)(fe,{})]})})}n(206);c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(be,{})}),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.d82105d3.chunk.js.map